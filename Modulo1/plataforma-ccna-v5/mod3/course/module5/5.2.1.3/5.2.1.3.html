<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <title>5.2.1.3 OSPF Troubleshooting Commands </title>
    <!-- Content -->
    <link type="text/css" rel="stylesheet" href="../../common/styles/course.css"/>
	<script type="text/javascript" src="../../common/scripts/jquery_bundle.min.js"></script>
	<script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script>
      var myLayout; 
      $(document).ready(function () {
        var frame = document.getElementById('mainFrame');
        if (isTextOnly(window)) {
          frame.setAttribute('src', 'media_5.2.1.3_longdesc.txt');
        } else {
          frame.setAttribute('src', 'media/index.html');
        }
    	myLayout = $('body').layout({
          west__size: 300,
          west__minSize: 300,
          center__minWidth: 100,
          resizerTip: 'Resize',
          sliderTip: 'Slide Open',
          togglerTip_open: 'Close',
          togglerTip_closed: 'Open',
          stateManagement__enabled: true,
          maskIframesOnResize: true,
          livePaneResizing: true,
          onresize_end: resizeTextDiv,
          stateManagement__cookie__name: "ui_pane",
          stateManagement__cookie__expires: 1,
          stateManagement__cookie__path: "/"
        });
      });
      function resizeTextDiv() {
        var DivHeight = document.getElementById("header").offsetHeight;
        document.getElementById("content").style.top = String(DivHeight) + 'px';
      }
    </script>
  </head>
  <body class="onecolumn" onLoad="resizeTextDiv()">
    <div class="ui-layout-west">
      <div id="header">
        <h1>Troubleshooting Single-Area OSPF Implementations</h1>
        <h2>Components of Troubleshooting Single-Area OSPF</h2>
      </div>
      <div id="content">
          <p>There are many different OSPF commands that can be used to help in the troubleshooting process. The following summarizes the most common of these commands:</p>
          <p>
            <ul>
              <li>
                <span class="cmd">
                  <b>show ip protocols</b>
                </span>
                <b></b>(Figure 1) - Used to verify vital OSPF configuration information, including the OSPF process ID, the router ID, networks the router is advertising, the neighbors the router is receiving updates from, and the default administrative distance, which is 110 for OSPF.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">
                  <b>show ip ospf neighbor</b>
                </span>
                <b></b>(Figure 2) - Used to verify that the router has formed an adjacency with its neighboring routers. Displays the neighbor router ID, neighbor priority, OSPF state, Dead timer, neighbor interface IP address, and interface that the neighbor is accessible through. If the router ID of the neighboring router is not displayed, or if it does not show as a state of FULL or 2WAY, the two routers have not formed an OSPF adjacency. If two routers do not establish adjacency, link-state information will not be exchanged. Incomplete link-state databases can cause inaccurate SPF trees and routing tables. Routes to destination networks may not exist or may not be the most optimum path.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">
                  <b>show ip ospf interface</b>
                </span>
                <b></b>(Figure 3) - Used to display the OSPF parameters configured on an interface, such as the OSPF process ID that the interface is assigned to, the area that the interfaces are in, the cost of the interface, and the Hello and Dead intervals. Adding the interface name and number to the command displays output for a specific interface.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">
                  <b>show ip ospf</b>
                </span>
                <b></b>(Figure 4) - Used to examine the OSPF process ID and router ID. Additionally, this command displays the OSPF area information, as well as the last time the SPF algorithm was calculated. </li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">
                  <b>show ip route ospf</b>
                </span>
                <b></b>(Figure 5) - Used to display only the OSPF learned routes in the routing table. The output shows that R1 has learned about four remote networks through OSPF.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">
                  <b>clear ip ospf </b>
                </span>
                <span class="cmd">[</span>
                <span class="cmd">
                  <i>process-id</i>
                </span>
                <span class="cmd">]</span>
                <span class="cmd">
                  <i></i>
                </span>
                <span class="cmd">
                  <b>process</b>
                </span>
                <b></b>- Used to reset the OSPFv2 neighbor adjacencies.</li>
            </ul>
          </p>
        </div>
    </div>
    <iframe id="mainFrame" name="mainFrame" frameborder="0" class="ui-layout-center" alt="interactive graphic"></iframe>
  </body>
</html>
