<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <title>5.1.2.5 Verifying DR/BDR Adjacencies</title>
    <!-- Content -->
    <link type="text/css" rel="stylesheet" href="../../common/styles/course.css"/>
	<script type="text/javascript" src="../../common/scripts/jquery_bundle.min.js"></script>
	<script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script>
      var myLayout; 
      $(document).ready(function () {
        var frame = document.getElementById('mainFrame');
        if (isTextOnly(window)) {
          frame.setAttribute('src', 'media_5.1.2.5_longdesc.txt');
        } else {
          frame.setAttribute('src', 'media/index.html');
        }
    	myLayout = $('body').layout({
          west__size: 300,
          west__minSize: 300,
          center__minWidth: 100,
          resizerTip: 'Resize',
          sliderTip: 'Slide Open',
          togglerTip_open: 'Close',
          togglerTip_closed: 'Open',
          stateManagement__enabled: true,
          maskIframesOnResize: true,
          livePaneResizing: true,
          onresize_end: resizeTextDiv,
          stateManagement__cookie__name: "ui_pane",
          stateManagement__cookie__expires: 1,
          stateManagement__cookie__path: "/"
        });
      });
      function resizeTextDiv() {
        var DivHeight = document.getElementById("header").offsetHeight;
        document.getElementById("content").style.top = String(DivHeight) + 'px';
      }
    </script>
  </head>
  <body class="onecolumn" onLoad="resizeTextDiv()">
    <div class="ui-layout-west">
      <div id="header">
        <h1>Advanced Single-Area OSPF Configurations </h1>
        <h2>OSPF in Multiaccess Networks</h2>
      </div>
      <div id="content">
          <p>To verify the OSPF adjacencies, use the<span class="cmd"><b> show ip ospf neighbor </b></span>command as shown in Figure 1. </p>
          <p></p>
          <p>Unlike serial links that only display a state of<span class="cmd"> FULL/-</span>, the state of neighbors in multiaccess networks can be:</p>
          <p>
            <ul>
              <li>
                <span class="cmd">FULL/DROTHER</span>
                <b></b>- This is a DR or BDR router that is fully adjacent with a non-DR or BDR router. These two neighbors can exchange Hello packets, updates, queries, replies, and acknowledgments.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">FULL/DR</span>
                <b></b>- The router is fully adjacent with the indicated DR neighbor. These two neighbors can exchange Hello packets, updates, queries, replies, and acknowledgments. </li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">FULL/BDR</span>
                <b></b>- The router is fully adjacent with the indicated BDR neighbor. These two neighbors can exchange Hello packets, updates, queries, replies, and acknowledgments.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">2-WAY/DROTHER</span>
                <b></b>- The non-DR or BDR router has a neighbor relationship with another non-DR or BDR router. These two neighbors exchange Hello packets. </li>
            </ul>
          </p>
          <p></p>
          <p>The normal state for an OSPF router is usually<span class="cmd"> FULL</span>. If a router is stuck in another state, it is an indication that there are problems in forming adjacencies. The only exception to this is the<span class="cmd"> 2-WAY </span>state, which is normal in a multiaccess broadcast network. </p>
          <p></p>
          <p>In multiaccess networks, DROTHERs only form FULL adjacencies with the DR and BDR. However, DROTHERs will still form a 2-WAY neighbor adjacency with any DROTHERs that join the network. This means that all DROTHER routers in the multiaccess network still receive Hello packets from all other DROTHER routers. In this way, they are aware of all routers in the network. When two DROTHER routers form a neighbor adjacency, the neighbor state displays as <span class="cmd">2-WAY/DROTHER</span>.</p>
          <p></p>
          <p>The output generated by R1 confirms that R1 has adjacencies with router:</p>
          <p>
            <ul>
              <li>R2 with router ID 2.2.2.2 is in a Full state and the role of R2 is BDR. (1)</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>R3 with router ID 3.3.3.3 is in a Full state and the role of R3 is DR. (2)</li>
            </ul>
          </p>
          <p></p>
          <p>The output generated by R2 in Figure 2 confirms that R2 has adjacencies with router:</p>
          <p>
            <ul>
              <li>R1 with router ID 1.1.1.1 is in a Full state and R1 is neither the DR nor BDR. (1)</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>R3 with router ID 3.3.3.3 is in a Full state and the role of R3 is DR. (2)</li>
            </ul>
          </p>
          <p></p>
          <p>The output generated by R3 in Figure 3 confirms that R3 has adjacencies with router:</p>
          <p>
            <ul>
              <li>R1 with router ID 1.1.1.1 is in a Full state and R1 is neither the DR nor BDR. (1)</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>R2 with router ID 2.2.2.2 is in a Full state and the role of R2 is BDR. (2)</li>
            </ul>
          </p>
        </div>
    </div>
    <iframe id="mainFrame" name="mainFrame" frameborder="0" class="ui-layout-center" alt="interactive graphic"></iframe>
  </body>
</html>
