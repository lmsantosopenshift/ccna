<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <title>2.1.1.4 Issues with Layer 1 Redundancy: Duplicate Unicast Frames</title>
    <!-- Content -->
    <link type="text/css" rel="stylesheet" href="../../common/styles/course.css"/>
	<script type="text/javascript" src="../../common/scripts/jquery_bundle.min.js"></script>
	<script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script>
      var myLayout; 
      $(document).ready(function () {
        var frame = document.getElementById('mainFrame');
        if (isTextOnly(window)) {
          frame.setAttribute('src', 'media_2.1.1.4_longdesc.txt');
        } else {
          frame.setAttribute('src', 'media/index.html');
        }
    	myLayout = $('body').layout({
          west__size: 300,
          west__minSize: 300,
          center__minWidth: 100,
          resizerTip: 'Resize',
          sliderTip: 'Slide Open',
          togglerTip_open: 'Close',
          togglerTip_closed: 'Open',
          stateManagement__enabled: true,
          maskIframesOnResize: true,
          livePaneResizing: true,
          onresize_end: resizeTextDiv,
          stateManagement__cookie__name: "ui_pane",
          stateManagement__cookie__expires: 1,
          stateManagement__cookie__path: "/"
        });
      });
      function resizeTextDiv() {
        var DivHeight = document.getElementById("header").offsetHeight;
        document.getElementById("content").style.top = String(DivHeight) + 'px';
      }
    </script>
  </head>
  <body class="onecolumn" onLoad="resizeTextDiv()">
    <div class="ui-layout-west">
      <div id="header">
        <h1>Spanning Tree Concepts</h1>
        <h2>Purpose of Spanning Tree</h2>
      </div>
      <div id="content">
          <p>
            <b>Multiple Frame Transmissions</b>
          </p>
          <p></p>
          <p>Broadcast frames are not the only type of frames that are affected by loops. Unicast frames sent onto a looped network can result in duplicate frames arriving at the destination device.</p>
          <p></p>
          <p>Click the Play button in the figure to view an animation of this issue. When the animation pauses, read the text to the right of the topology. The animation will continue after the short pause.</p>
          <p></p>
          <p>In the animation:</p>
          <p></p>
          <p>1. PC1 sends a unicast frame destined for PC4. </p>
          <p></p>
          <p>2. S2 does not have an entry for PC4 in its MAC table, so it floods the unicast frame out all switch ports in an attempt to find PC4. </p>
          <p></p>
          <p>3. The frame arrives at switches S1 and S3. </p>
          <p></p>
          <p>4. S1 does have a MAC address entry for PC4, so it forwards the frame out to PC4. </p>
          <p></p>
          <p>5. S3 also has an entry in its MAC address table for PC4, so it forwards the unicast frame out Trunk3 to S1. </p>
          <p></p>
          <p>6. S1 receives the duplicate frame and forwards the frame out to PC4. </p>
          <p></p>
          <p>7. PC4 has now received the same frame twice.</p>
          <p></p>
          <p>Most upper layer protocols are not designed to recognize, or cope with, duplicate transmissions. In general, protocols that make use of a sequence-numbering mechanism assume that the transmission has failed and that the sequence number has recycled for another communication session. Other protocols attempt to hand the duplicate transmission to the appropriate upper layer protocol to be processed and possibly discarded. </p>
          <p></p>
          <p>Layer 2 LAN protocols, such as Ethernet, lack a mechanism to recognize and eliminate endlessly looping frames. Some Layer 3 protocols implement a TTL mechanism that limits the number of times a Layer 3 networking device can retransmit a packet. Lacking such a mechanism, Layer 2 devices continue to retransmit looping traffic indefinitely. A Layer 2 loop-avoidance mechanism, STP, was developed to address these problems.</p>
          <p></p>
          <p>To prevent these issues from occurring in a redundant network, some type of spanning tree must be enabled on the switches. Spanning tree is enabled, by default, on Cisco switches to prevent Layer 2 loops from occurring. </p>
        </div>
    </div>
    <iframe id="mainFrame" name="mainFrame" frameborder="0" class="ui-layout-center" alt="interactive graphic"></iframe>
  </body>
</html>
