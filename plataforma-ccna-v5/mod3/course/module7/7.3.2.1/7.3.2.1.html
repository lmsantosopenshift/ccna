<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <title>7.3.2.1 EIGRP Composite Metric</title>
    <!-- Content -->
    <link type="text/css" rel="stylesheet" href="../../common/styles/course.css"/>
	<script type="text/javascript" src="../../common/scripts/jquery_bundle.min.js"></script>
	<script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script>
      var myLayout; 
      $(document).ready(function () {
        var frame = document.getElementById('mainFrame');
        if (isTextOnly(window)) {
          frame.setAttribute('src', 'media_7.3.2.1_longdesc.txt');
        } else {
          frame.setAttribute('src', 'media/index.html');
        }
    	myLayout = $('body').layout({
          west__size: 300,
          west__minSize: 300,
          center__minWidth: 100,
          stateManagement__enabled: true,
          maskIframesOnResize: true,
          livePaneResizing: true,
          onresize_end: resizeTextDiv,
          stateManagement__cookie__name: "ui_pane",
          stateManagement__cookie__expires: 1,
          stateManagement__cookie__path: "/"
        });
      });
      function resizeTextDiv() {
        var DivHeight = document.getElementById("header").offsetHeight;
        document.getElementById("content").style.top = String(DivHeight) + 'px';
      }
    </script>
  </head>
  <body class="onecolumn" onLoad="resizeTextDiv()">
    <div class="ui-layout-west">
      <div id="header">
        <h1> Operation of EIGRP</h1>
        <h2>Metrics</h2>
      </div>
      <div id="content">
          <p>By default, EIGRP uses the following values in its composite metric to calculate the preferred path to a network:</p>
          <p>
            <ul>
              <li>
                <b>Bandwidth </b>- The slowest bandwidth among all of the outgoing interfaces, along the path from source to destination. </li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <b>Delay </b>- The cumulative (sum) of all interface delay along the path (in tens of microseconds).</li>
            </ul>
          </p>
          <p></p>
          <p>The following values can be used, but are not recommended, because they typically result in frequent recalculation of the topology table:</p>
          <p>
            <ul>
              <li>
                <b>Reliability </b>- Represents the worst reliability between the source and destination, which is based on keepalives.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <b>Load </b>- Represents the worst load on a link between the source and destination, which is computed based on the packet rate and the configured bandwidth of the interface.</li>
            </ul>
          </p>
          <p></p>
          <p>
            <b>Note</b>: Although the MTU is included in the routing table updates, it is not a routing metric used by EIGRP. </p>
          <p></p>
          <p>
            <b>The Composite Metric</b>
          </p>
          <p></p>
          <p>Figure 1 shows the composite metric formula used by EIGRP. The formula consists of values K1 to K5, known as EIGRP metric weights. K1 and K3 represent bandwidth and delay, respectively. K2 represents load, and K4 and K5 represent reliability. By default, K1 and K3 are set to 1, and K2, K4, and K5 are set to 0. The result is that only the bandwidth and delay values are used in the computation of the default composite metric. EIGRP for IPv4 and EIGRP for IPv6 use the same formula for the composite metric.</p>
          <p></p>
          <p>The metric calculation method (<span class="cmd"><i>k</i></span> values) and the EIGRP autonomous system number must match between EIGRP neighbors. If they do not match, the routers do not form an adjacency.</p>
          <p></p>
          <p>The default <span class="cmd"><i>k</i></span> values can be changed with the<span class="cmd"><b> metric weights </b></span>router configuration mode command:</p>
          <p></p>
          <p>
            <span class="cmd">Router(config-router)# </span>
            <span class="cmd">
              <b>metric weights</b>
            </span>
            <span class="cmd">
              <b></b>
            </span>
            <span class="cmd">
              <i>tos</i>
            </span>
            <span class="cmd"></span>
            <span class="cmd">
              <i>k1 k2 k3 k4 k5</i>
            </span>
          </p>
          <p></p>
          <p>
            <b>Note</b>: Modifying the<span class="cmd"><b> metric weights </b></span>value is generally not recommended and beyond the scope of this course. However, its relevance is important in establishing neighbor adjacencies. If one router has modified the metric weights and another router has not, an adjacency does not form.</p>
          <p></p>
          <p>
            <b>Verifying the </b>
            <span class="cmd">
              <b>
                <i>k</i>
              </b>
            </span>
            <b> Values </b>
          </p>
          <p></p>
          <p>The<span class="cmd"><b> show ip protocols </b></span>command is used to verify the <span class="cmd"><i>k</i></span> values. The command output for R1 is shown in Figure 2. Notice that the <span class="cmd"><i>k</i></span> values on R1 are set to the default. </p>
        </div>
    </div>
    <iframe id="mainFrame" name="mainFrame" frameborder="0" class="ui-layout-center" alt="interactive graphic"></iframe>
  </body>
</html>
