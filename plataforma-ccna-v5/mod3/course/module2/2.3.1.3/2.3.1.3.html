<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <title>2.3.1.3 PortFast and BPDU Guard</title>
    <!-- Content -->
    <link type="text/css" rel="stylesheet" href="../../common/styles/course.css"/>
	<script type="text/javascript" src="../../common/scripts/jquery_bundle.min.js"></script>
	<script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script>
      var myLayout; 
      $(document).ready(function () {
        var frame = document.getElementById('mainFrame');
        if (isTextOnly(window)) {
          frame.setAttribute('src', 'media_2.3.1.3_longdesc.txt');
        } else {
          frame.setAttribute('src', 'media/index.html');
        }
    	myLayout = $('body').layout({
          west__size: 300,
          west__minSize: 300,
          center__minWidth: 100,
          resizerTip: 'Resize',
          sliderTip: 'Slide Open',
          togglerTip_open: 'Close',
          togglerTip_closed: 'Open',
          stateManagement__enabled: true,
          maskIframesOnResize: true,
          livePaneResizing: true,
          onresize_end: resizeTextDiv,
          stateManagement__cookie__name: "ui_pane",
          stateManagement__cookie__expires: 1,
          stateManagement__cookie__path: "/"
        });
      });
      function resizeTextDiv() {
        var DivHeight = document.getElementById("header").offsetHeight;
        document.getElementById("content").style.top = String(DivHeight) + 'px';
      }
    </script>
  </head>
  <body class="onecolumn" onLoad="resizeTextDiv()">
    <div class="ui-layout-west">
      <div id="header">
        <h1>Spanning Tree Configuration</h1>
        <h2>PVST+ Configuration</h2>
      </div>
      <div id="content">
          <p>PortFast is a Cisco feature for PVST+ environments. When a switch port is configured with PortFast that port transitions from blocking to forwarding state immediately, bypassing the usual 802.1D STP transition states (the listening and learning states). You can use PortFast on access ports to allow these devices to connect to the network immediately, rather than waiting for IEEE 802.1D STP to converge on each VLAN. Access ports are ports which are connected to a single workstation or to a server.</p>
          <p></p>
          <p>In a valid PortFast configuration, BPDUs should never be received, because that would indicate that another bridge or switch is connected to the port, potentially causing a spanning tree loop. Cisco switches support a feature called BPDU guard. When it is enabled, BPDU guard puts the port in an <i>error-disabled</i> state on receipt of a BPDU. This will effectively shut down the port. The BPDU guard feature provides a secure response to invalid configurations because you must manually put the interface back into service.</p>
          <p></p>
          <p>Cisco PortFast technology is useful for DHCP. Without PortFast, a PC can send a DHCP request before the port is in forwarding state, denying the host from getting a usable IP address and other information. Because PortFast immediately changes the state to forwarding, the PC always gets a usable IP address. </p>
          <p></p>
          <p>
            <b>Note</b>: Because the purpose of PortFast is to minimize the time that access ports must wait for spanning tree to converge, it should only be used on access ports. If you enable PortFast on a port connecting to another switch, you risk creating a spanning tree loop.</p>
          <p></p>
          <p>To configure PortFast on a switch port, enter the<span class="cmd"><b> spanning-tree portfast </b></span>interface configuration mode command on each interface that PortFast is to be enabled, as shown in Figure 2. The<span class="cmd"><b> spanning-tree portfast default </b></span>global configuration mode command enables PortFast on all nontrunking interfaces.</p>
          <p></p>
          <p>To configure BPDU guard on a Layer 2 access port, use the<span class="cmd"><b> spanning-tree bpduguard enable </b></span>interface configuration mode command. The<span class="cmd"><b> spanning-tree portfast bpduguard default </b></span>global configuration command enables BPDU guard on all PortFast-enabled ports.</p>
          <p></p>
          <p>To verify that PortFast and BPDU guard has been enabled for a switch port, use the<span class="cmd"><b> show running-config </b></span>command, as shown in Figure 3.  PortFast and BPDU guard are disabled, by default, on all interfaces.</p>
          <p></p>
          <p>Use the Syntax Checker in Figure 4 to configure and verify switches S1 and S2 with PortFast and BPDU guard.</p>
        </div>
    </div>
    <iframe id="mainFrame" name="mainFrame" frameborder="0" class="ui-layout-center" alt="interactive graphic"></iframe>
  </body>
</html>
